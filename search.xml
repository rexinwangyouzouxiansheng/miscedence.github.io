<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo更换butterfly主题踩坑</title>
      <link href="/2022/07/13/hexo%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98%E8%B8%A9%E5%9D%91/"/>
      <url>/2022/07/13/hexo%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98%E8%B8%A9%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>具体可看：<a href="https://www.bilibili.com/read/cv12633102">2021最全hexo搭建博客+matery美化+使用（保姆级教程） - 哔哩哔哩 (bilibili.com)</a></p><h4 id="1、安装依赖包一定要换淘宝源"><a href="#1、安装依赖包一定要换淘宝源" class="headerlink" title="1、安装依赖包一定要换淘宝源"></a>1、安装依赖包一定要换淘宝源</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry==https://registry.npm.taobao.org </span><br></pre></td></tr></table></figure><h4 id="2、安装butterfly主题出现问题"><a href="#2、安装butterfly主题出现问题" class="headerlink" title="2、安装butterfly主题出现问题"></a>2、安装butterfly主题出现问题</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">extends includes/layout.pug block content include ./includes/mixins/post-ui.pug #recent-posts.recent-posts +postUI include includes/pagination.pug</span><br></pre></td></tr></table></figure><p>解决方案：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>丝滑~</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo与typora同步图片插入格式</title>
      <link href="/2022/07/13/hexo%E4%B8%8Etypora%E5%90%8C%E6%AD%A5%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%A0%BC%E5%BC%8F/"/>
      <url>/2022/07/13/hexo%E4%B8%8Etypora%E5%90%8C%E6%AD%A5%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%A0%BC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>##Hexo + Typora 同步图片插入格式</p><p>参考：</p><ul><li><p><a href="https://moeci.com/posts/hexo-typora/">Hexo + Typora + 开发Hexo插件 解决图片路径不一致 | yiyun’s Blog (moeci.com)</a></p></li><li><p><a href="https://algorithmofdish.tech/2021/05/05/hexo-shang-markdown-tu-pian-lu-jing-yu-typora-bao-chi-yi-zhi/">Hexo上markdown图片路径与Typora保持一致 | He’s Blog (algorithmofdish.tech)</a></p></li></ul><blockquote><p>今天跟同门学习了利用hexo搭建个人博客，打算记录一下日常科研生活。因为之前习惯用typora，刚开始跟hexo同步时体验实在糟糕，插入图片要么hexo能显示了，本地无法显示；要么本地能显示，hexo无能。网上折腾了一两个小时，大多数文章都千篇一律，不太能满足我的需求。终于找到一篇好文，本文主要基于这篇按照我遇到的问题重构一下。</p></blockquote><h3 id="1、配置Typora图片路径"><a href="#1、配置Typora图片路径" class="headerlink" title="1、配置Typora图片路径"></a>1、配置Typora图片路径</h3><p>​    文件-偏好设置-图像</p><img src="/2022/07/13/hexo%E4%B8%8Etypora%E5%90%8C%E6%AD%A5%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%A0%BC%E5%BC%8F/image-20220711222712345.png" class="" title="image-20220711222712345"><p>​    图片保存到<code>./$&#123;filename&#125;</code>，即在当前md文件目录下建立同名文件夹，存放图片</p><blockquote><p>之后就可以直接 <code>Ctrl </code>+<code>V</code>粘贴图片进来</p></blockquote><h3 id="2、配置Hexo图片文件夹"><a href="#2、配置Hexo图片文件夹" class="headerlink" title="2、配置Hexo图片文件夹"></a>2、配置Hexo图片文件夹</h3><img src="/2022/07/13/hexo%E4%B8%8Etypora%E5%90%8C%E6%AD%A5%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%A0%BC%E5%BC%8F/image-20220711223127059.png" class="" title="image-20220711223127059"><p>在Hexo根目录打开配置文件<code>_config.yml</code></p><p>搜索<code>post_asset_folder</code>, <code>false</code> 改为 <code>true</code></p><p>这样以后每次命令行 <code>hexo n &quot;temp&quot;</code> 的时候，都会在md文件同级目录下新建一个同名文件夹存放图片等资源 </p><img src="/2022/07/13/hexo%E4%B8%8Etypora%E5%90%8C%E6%AD%A5%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E6%A0%BC%E5%BC%8F/image-20220711223440866.png" class="" title="image-20220711223440866"><blockquote><p>PS: 其实个人感觉这一步不太用，因为正常我都是直接写markdown笔记，然后需要上传的时候再拖进来，不会用到。</p></blockquote><h3 id="3、配置Hexo转换图片路径插件"><a href="#3、配置Hexo转换图片路径插件" class="headerlink" title="3、配置Hexo转换图片路径插件"></a>3、配置Hexo转换图片路径插件</h3><p>现在，我们在 <code>Typora</code>下使用 <code>&#123;% asset_img example.jpg example %&#125;</code>引用图片，享受实时预览，但需发布到 <code>Hexo</code>，使之发布后能正确加载我们的图片，还需要做以下转换:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">{% asset_img example.jpg example %} --&gt; &#123;% asset_img example.jpg example %&#125;</span><br></pre></td></tr></table></figure><p>而这个转换我们需要在文章编译为html之前，在编译过程中转换为 这样的标签<code>&#123;% asset_img example.jpg example %&#125;</code></p><h4 id="3-1-安装hexo-asset-image插件"><a href="#3-1-安装hexo-asset-image插件" class="headerlink" title="3.1 安装hexo-asset-image插件"></a>3.1 安装hexo-asset-image插件</h4><blockquote><p>主要解决md引用路径到html路径的映射问题</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>如果安装报错可以尝试：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image</span><br></pre></td></tr></table></figure><p>安装完后找到 <code>hexo根目录——node_modules——hexo-asset-image——index.js</code> ，修改如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const log = require(&#x27;hexo-log&#x27;)(&#123; &#x27;debug&#x27;: false, &#x27;slient&#x27;: false &#125;);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * md文件返回 true</span><br><span class="line"> * @param &#123;*&#125; data </span><br><span class="line"> */</span><br><span class="line">function ignore(data) &#123;</span><br><span class="line">    // TODO: 好奇怪，试了一下, md返回true, 但却需要忽略 取反!</span><br><span class="line">    var source = data.source;</span><br><span class="line">    var ext = source.substring(source.lastIndexOf(&#x27;.&#x27;)).toLowerCase();</span><br><span class="line">    return [&#x27;md&#x27;,].indexOf(ext) &gt; -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function action(data) &#123;</span><br><span class="line">    var reverseSource = data.source.split(&quot;&quot;).reverse().join(&quot;&quot;);</span><br><span class="line">    var fileName = reverseSource.substring(3, reverseSource.indexOf(&quot;/&quot;)).split(&quot;&quot;).reverse().join(&quot;&quot;);</span><br><span class="line"></span><br><span class="line">    // {% asset_img example.jpg example %}  --&gt;  &#123;% asset_img example.jpg example %&#125;</span><br><span class="line">    var regExp = RegExp(&quot;!\\[(.*?)\\]\\(&quot; + fileName + &#x27;/(.+?)\\)&#x27;, &quot;g&quot;);</span><br><span class="line">    // hexo g</span><br><span class="line">    data.content = data.content.replace(regExp, &quot;&#123;% asset_img $2 $1 %&#125;&quot;,&quot;g&quot;);</span><br><span class="line"></span><br><span class="line">    // log.info(`hexo-asset-img: filename: $&#123;fileName&#125;, title: $&#123;data.title.trim()&#125;`);</span><br><span class="line">    </span><br><span class="line">    return data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hexo.extend.filter.register(&#x27;before_post_render&#x27;,(data)=&gt;&#123;</span><br><span class="line">    if(!ignore(data))&#123;</span><br><span class="line">        action(data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, 0);</span><br></pre></td></tr></table></figure><p>接着在 <code>Hexo根目录</code>下  <code> package.json</code>  中  <code>dependencies</code> 添加一行 <code>&quot;hexo-asset-img&quot;: &quot;^1.0.0&quot;</code></p><h3 id="3-2-安装hexo-image-link插件"><a href="#3-2-安装hexo-image-link插件" class="headerlink" title="3.2 安装hexo-image-link插件"></a>3.2 安装hexo-image-link插件</h3><blockquote><p>主要解决md中引用路径 <code>mytitle/my.png</code> 到hexo中 <code>my.png</code> 的转变</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-image-link --save</span><br></pre></td></tr></table></figure><p>如果安装报错可以尝试</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-image-link</span><br></pre></td></tr></table></figure><h3 id="4、重新生成文章"><a href="#4、重新生成文章" class="headerlink" title="4、重新生成文章"></a>4、重新生成文章</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s # 本地预览</span><br></pre></td></tr></table></figure><p>即可完成</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重新创建hexo博客</title>
      <link href="/2022/07/13/%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2022/07/13/%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<ol><li><p>手动安装Nodejs</p></li><li><p>查看node版本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><p>查看npm版本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure></li><li><p>安装淘宝的cnpm 管理器</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=http://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>查看cnpm版本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm -v</span><br></pre></td></tr></table></figure></li><li><p>安装hexo框架</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-cli   </span><br></pre></td></tr></table></figure></li><li><p>查看hexo版本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure></li><li><p>创建blog目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir blog</span><br></pre></td></tr></table></figure></li><li><p>cd blog     #进入blog目录</p></li><li><p>hexo init     #生成博客 初始化博客</p></li><li><p>hexo s    #启动本地博客服务<br><a href="http://localhost:4000/">http://localhost:4000/</a>    #本地访问地址</p></li><li><p>hexo n “我的第一篇文章” #创建新的文章<br>#返回blog目录</p></li><li><p>hexo clean #清理</p></li><li><p>hexo g #生成</p></li><li><p>#Github创建一个新的仓库 YourGithubName.github.io<br>cnpm install –save hexo-deployer-git #在blog目录下安装git部署插件<br>-—</p></li><li><p>配置_config.yml </p><p>deploy:</p><pre><code>type: gitrepo: https://github.com/YourGithubName/YourGithubName.github.io.gitbranch: master</code></pre><p>hexo d    #部署到Github仓库里<br><a href="https://yourgithubname.github.io/">https://YourGithubName.github.io/</a>  #访问这个地址可以查看博客</p></li><li><p>git clone <a href="https://github.com/litten/hexo-theme-yilia.git">https://github.com/litten/hexo-theme-yilia.git</a> themes/yilia  #下载yilia主题到本地</p><p>#修改hexo根目录下的 _config.yml 文件 ： theme: yilia</p></li><li><p>hexo c    #清理一下<br>hexo g    #生成<br>hexo d    #部署到远程Github仓库<br><a href="https://yourgithubname.github.io/">https://YourGithubName.github.io/</a>  #查看博客</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
